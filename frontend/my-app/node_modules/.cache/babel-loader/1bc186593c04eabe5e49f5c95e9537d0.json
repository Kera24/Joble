{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\acer pc\\\\Desktop\\\\Zelthy\\\\Assesment\\\\joble\\\\frontend\\\\my-app\\\\src\\\\Users\\\\UserProfile.js\";\n// Tabs needed: Create job, View Job,\nimport React, { Component } from 'react';\nimport axios from 'axios'; //import CreateJob from '../Jobs/CreateJob';\n\nimport './User.css';\nexport default class UserProfile extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleUserNameChange = event => {\n      // console.log(event.target.value);\n      this.setState({\n        userName: event.target.value\n      });\n    };\n\n    this.handleOldUserPasswordChange = event => {\n      // console.log(event.target.value);\n      this.setState({\n        userOldPassword: event.target.value\n      });\n    };\n\n    this.handleNewUserPasswordChange = event => {\n      // console.log(event.target.value);\n      this.setState({\n        userNewPassword: event.target.value\n      });\n    };\n\n    this.handleCompanyNameChange = event => {\n      // console.log(event.target.value);\n      this.setState({\n        companyName: event.target.value\n      });\n    };\n\n    this.handleEditProfile = event => {\n      event.preventDefault(); // alert('REGISTER: userName='+ this.state.userName + \", password=\" + this.state.userPassword);\n\n      const user = {\n        oldUserName: this.props.user.userName,\n        newUserName: this.state.userName,\n        userOldPassword: this.state.userOldPassword,\n        userNewPassword: this.state.userNewPassword,\n        companyName: this.state.companyName\n      }; // check if user exsits in the database\n      // otherwise, add a new user\n\n      axios.post('/users/edit', user).then(res => {\n        const newUser = {\n          userName: this.state.userName,\n          userPassword: this.state.userNewPassword,\n          companyName: this.state.companyName\n        };\n        document.getElementById(\"editProfileMessage\").style.color = \"green\";\n        this.setState({\n          userName: '',\n          userOldPassword: '',\n          userNewPassword: '',\n          companyName: '',\n          editProfileMessage: 'Changes saved!'\n        });\n        this.handleUserEdit(newUser);\n      }).catch(err => {\n        // display error message\n        document.getElementById(\"editProfileMessage\").style.color = \"red\";\n        this.setState({\n          editProfileMessage: \"There was an error editing the profile. Please try again.\"\n        });\n      }).finally(() => {\n        window.scrollTo(0, 0);\n      });\n    };\n\n    this.handleCancel = () => {\n      // serve default user page\n      this.props.handleCancel();\n    };\n\n    this.state = {\n      userName: this.props.user.userName,\n      userOldPassword: '',\n      userNewPassword: '',\n      companyName: this.props.user.companyName,\n      editProfileMessage: ''\n    };\n    this.handleUserNameChange = this.handleUserNameChange.bind(this);\n    this.handleOldUserPasswordChange = this.handleOldUserPasswordChange.bind(this);\n    this.handleNewUserPasswordChange = this.handleNewUserPasswordChange.bind(this);\n    this.handleCompanyNameChange = this.handleCompanyNameChange.bind(this);\n    this.handleEditProfile = this.handleEditProfile.bind(this);\n    this.handleUserEdit = this.handleUserEdit.bind(this);\n  }\n\n  handleUserEdit(newUser) {\n    this.props.handleUserEdit(newUser);\n  }\n\n  render() {\n    const user = this.props.user;\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 17\n      }\n    }, \"Edit Profile\"), /*#__PURE__*/React.createElement(\"h5\", {\n      id: \"editProfileMessage\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 17\n      }\n    }, this.state.editProfileMessage), /*#__PURE__*/React.createElement(\"form\", {\n      className: \"myForm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"Username\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 25\n      }\n    }, \"Username (min. 4 characters)\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: user.userName,\n      className: \"form-control\",\n      id: \"userName\",\n      value: this.state.userName,\n      onChange: this.handleUserNameChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"Password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 25\n      }\n    }, \"Old Password\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      className: \"form-control\",\n      id: \"oldPassword\",\n      value: this.state.userOldPassword,\n      onChange: this.handleOldUserPasswordChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"Password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 25\n      }\n    }, \"New Password\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      className: \"form-control\",\n      id: \"newPassword\",\n      value: this.state.userNewPassword,\n      onChange: this.handleNewUserPasswordChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-primary\",\n      onClick: this.handleEditProfile,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 21\n      }\n    }, \"Save changes\"), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-primary\",\n      onClick: this.handleCancel,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 21\n      }\n    }, \"Cancel\"))));\n  }\n\n}","map":{"version":3,"sources":["C:/Users/acer pc/Desktop/Zelthy/Assesment/joble/frontend/my-app/src/Users/UserProfile.js"],"names":["React","Component","axios","UserProfile","constructor","props","handleUserNameChange","event","setState","userName","target","value","handleOldUserPasswordChange","userOldPassword","handleNewUserPasswordChange","userNewPassword","handleCompanyNameChange","companyName","handleEditProfile","preventDefault","user","oldUserName","newUserName","state","post","then","res","newUser","userPassword","document","getElementById","style","color","editProfileMessage","handleUserEdit","catch","err","finally","window","scrollTo","handleCancel","bind","render"],"mappings":"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","sourcesContent":["// Tabs needed: Create job, View Job,\nimport React, { Component } from 'react';\nimport axios from 'axios';\n//import CreateJob from '../Jobs/CreateJob';\nimport './User.css';\n\nexport default class UserProfile extends Component {\n    constructor(props){\n        super(props);\n\n        this.state = {\n            userName: this.props.user.userName,\n            userOldPassword: '',\n            userNewPassword: '',\n            companyName: this.props.user.companyName,\n            editProfileMessage: '',\n        };\n\n        this.handleUserNameChange = this.handleUserNameChange.bind(this);\n        this.handleOldUserPasswordChange = this.handleOldUserPasswordChange.bind(this);\n        this.handleNewUserPasswordChange = this.handleNewUserPasswordChange.bind(this);\n        this.handleCompanyNameChange = this.handleCompanyNameChange.bind(this);\n        this.handleEditProfile = this.handleEditProfile.bind(this);\n        this.handleUserEdit = this.handleUserEdit.bind(this);\n    }\n\n    handleUserNameChange = (event) => {\n        // console.log(event.target.value);\n        this.setState({userName: event.target.value});\n    }\n\n    handleOldUserPasswordChange = (event) => {\n        // console.log(event.target.value);\n        this.setState({userOldPassword: event.target.value});\n    }\n\n    handleNewUserPasswordChange = (event) => {\n        // console.log(event.target.value);\n        this.setState({userNewPassword: event.target.value});\n    }\n\n    handleCompanyNameChange = (event) =>{\n        // console.log(event.target.value);\n        this.setState({companyName: event.target.value});\n    }\n\n    handleEditProfile = (event) => {\n        event.preventDefault();\n        // alert('REGISTER: userName='+ this.state.userName + \", password=\" + this.state.userPassword);\n\n        const user = {\n            oldUserName: this.props.user.userName,\n            newUserName: this.state.userName,\n            userOldPassword: this.state.userOldPassword,\n            userNewPassword: this.state.userNewPassword,\n            companyName: this.state.companyName,\n        }\n\n        // check if user exsits in the database\n        // otherwise, add a new user\n        axios.post('/users/edit', user)\n            .then(res => {\n                const newUser = {\n                    userName: this.state.userName,\n                    userPassword: this.state.userNewPassword,\n                    companyName: this.state.companyName,\n                }\n\n                document.getElementById(\"editProfileMessage\").style.color = \"green\";\n                this.setState({\n                    userName: '',\n                    userOldPassword: '',\n                    userNewPassword: '',\n                    companyName:'',\n                    editProfileMessage: 'Changes saved!'\n                });\n\n                this.handleUserEdit(newUser);\n            })\n            .catch((err) => {\n                // display error message\n                document.getElementById(\"editProfileMessage\").style.color = \"red\";\n\n                this.setState({\n                    editProfileMessage: \"There was an error editing the profile. Please try again.\",\n                });\n            })\n            .finally(() => {\n                window.scrollTo(0, 0);\n            });\n    }\n\n    handleCancel = () => {\n        // serve default user page\n        this.props.handleCancel();\n    }\n\n    handleUserEdit(newUser) {\n        this.props.handleUserEdit(newUser);\n    }\n\n    render() {\n        const user = this.props.user;\n\n        return (\n            <React.Fragment>\n                <div className=\"container\">\n                <h1>Edit Profile</h1>\n                <h5 id=\"editProfileMessage\">{this.state.editProfileMessage}</h5>\n                <form className=\"myForm\">\n                    <div className=\"form-group\">\n                        <label htmlFor=\"Username\">Username (min. 4 characters)</label>\n                        <input type=\"text\" placeholder={user.userName} className=\"form-control\" id=\"userName\" value={this.state.userName} onChange={this.handleUserNameChange} />\n                    </div>\n                    <div className=\"form-group\">\n                        <label htmlFor=\"Password\">Old Password</label>\n                        <input type=\"password\" className=\"form-control\" id=\"oldPassword\" value={this.state.userOldPassword} onChange={this.handleOldUserPasswordChange}/>\n                    </div>\n                    <div className=\"form-group\">\n                        <label htmlFor=\"Password\">New Password</label>\n                        <input type=\"password\" className=\"form-control\" id=\"newPassword\" value={this.state.userNewPassword} onChange={this.handleNewUserPasswordChange}/>\n                    </div>\n                    <button type=\"button\" className=\"btn btn-primary\" onClick={this.handleEditProfile}>Save changes</button>\n                    <button type=\"button\" className=\"btn btn-primary\" onClick={this.handleCancel}>Cancel</button>\n                </form>\n\n            </div>\n            </React.Fragment>\n        );\n    }\n}\n"]},"metadata":{},"sourceType":"module"}